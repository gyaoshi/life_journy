# 人生旅程游戏

一个基于HTML5 Canvas的互动小游戏，模拟一个人从出生到死亡的完整人生历程。玩家通过快速反应和点击交互来完成人生中的重要事件和里程碑。

## 项目特点

- **完整人生模拟**: 100秒内体验从婴儿到老年的完整人生
- **多样化交互**: 点击、拖拽、快速点击、移动目标等交互类型
- **动态难度**: 根据人生阶段自动调整难度
- **移动端优化**: 响应式设计，支持触摸操作
- **音效系统**: 程序化生成的背景音乐和音效
- **评价系统**: 基于完成度的人生评价

## 技术架构

### 核心组件
- **GameEngine**: 主游戏循环和渲染管理
- **StateManager**: 人生阶段状态机
- **EventSystem**: 人生事件和交互管理
- **InputHandler**: 触摸输入处理
- **AudioManager**: 音频播放控制
- **ScoreSystem**: 分数计算和评价

### 数据模型
- **GameState**: 游戏状态数据
- **LifeStage**: 人生阶段定义
- **LifeEvent**: 人生事件配置
- **InteractionTarget**: 交互目标设置

## 快速开始

### 安装依赖
```bash
npm install
```

### 运行测试
```bash
npm test
```

### 启动开发服务器
```bash
npm run serve
```

然后在浏览器中访问 `http://localhost:8000`

## 游戏玩法

1. **开始游戏**: 点击屏幕开始100秒的人生旅程
2. **完成事件**: 根据提示完成各种人生事件
   - 简单点击: 点击按钮
   - 快速点击: 在时间内连续点击
   - 拖拽操作: 拖拽物体到指定距离
   - 移动目标: 点击移动的目标
3. **人生阶段**: 游戏分为5个人生阶段，每个阶段有不同的事件和难度
4. **获得评价**: 根据完成的事件数量获得最终的人生评价

## 人生阶段

- **婴儿期** (0-15秒): 简单的点击交互
- **儿童期** (15-35秒): 点击和拖拽操作
- **青少年期** (35-55秒): 增加快速点击挑战
- **成年期** (55-85秒): 最复杂的交互，包括移动目标
- **老年期** (85-100秒): 回归简单操作，珍惜时光

## 评价系统

根据完成事件的百分比获得不同评价：
- **0-30%**: 匆忙人生 - 生活太匆忙，错过了很多美好
- **31-60%**: 平凡人生 - 平平淡淡才是真，也有自己的精彩
- **61-85%**: 充实人生 - 把握了大部分机会，生活很充实
- **86-100%**: 完美人生 - 几乎没有遗憾，这就是理想的人生

## 开发

### 项目结构
```
├── src/
│   ├── core/           # 核心游戏组件
│   ├── models/         # 数据模型
│   └── main.js         # 主入口文件
├── tests/              # 测试文件
├── index.html          # 游戏页面
└── package.json        # 项目配置
```

### 测试框架
项目使用Jest和fast-check进行测试：
- 单元测试验证具体功能
- 属性测试验证通用规则
- 覆盖率要求70%以上

### 代码规范
- 使用ES6+语法
- 详细的JSDoc注释
- 模块化设计
- 错误处理和边界检查

## 贡献

欢迎提交Issue和Pull Request来改进游戏！

## 许可证

MIT License